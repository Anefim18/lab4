from random import randint


class ЖивийОрганізм:

    def __init__(self, енергія: float, вік: int, розмір: float):
        self.енергія = енергія
        self.вік = вік
        self.розмір = розмір

    def їсти(self, їжа: float):
        self.енергія += їжа

    def рости(self):
        self.вік += 1
        self.розмір += self.енергія / 100

    def помереть(self):
        pass


class Тварина(ЖивийОрганізм):

    def __init__(self, енергія: float, вік: int, розмір: float, швидкість: float, сила: float):
        super().__init__(енергія, вік, розмір)
        self.швидкість = швидкість
        self.сила = сила

    def полювати(self, жертва: ЖивийОрганізм):
        if self.сила > жертва.сила:
            жертва.померти()
            self.енергія += жертва.енергія


class Рослина(ЖивийОрганізм):

    def __init__(self, енергія: float, вік: int, розмір: float, продуктивність: float):
        super().__init__(енергія, вік, розмір)
        self.продуктивність = продуктивність

    def рости(self):
        self.розмір += self.продуктивність


class Мікроорганізм(ЖивийОрганізм):

    def __init__(self, енергія: float, вік: int, розмір: float, швидкість_розмноження: float):
        super().__init__(енергія, вік, розмір)
        self.швидкість_розмноження = швидкість_розмноження

    def розмножуватися(self):
        новий_організм = type(self)(self.енергія / 2, self.вік, self.розмір / 2)
        новий_організм.енергія += self.енергія / 10
        self.енергія -= self.енергія / 5
        return новий_організм


class Екосистема:

    def __init__(self, розмір: float):
        self.організми = []
        self.розмір = розмір

    def додати_організм(self, організм: ЖивийОрганізм):
        self.організми.append(організм)

    def оновити(self):
        for організм in self.організми:
            організм.рости()
            if організм.енергія < 0:
                організм.померти()
            if isinstance(організм, Тварина):
                for жертва in self.організми:
                    if isinstance(жертва, ЖивийОрганізм) and жертва != організм:
                        if організм.полювати(жертва):
                            break
            if isinstance(організм, Мікроорганізм):
                if randint(0, 100) < організм.швидкість_розмноження:
                    self.додати_організм(організм.розмножуватися())


# Створення екосистеми
екосистема = Екосистема(100)

# Додавання живих організмів
екосистема.додати_організм(Тварина(100, 0, 10, 5, 10))
екосистема.додати_організм(Тварина(50, 0, 5, 3, 5))
екосистема.додати_організм(Рослина(50, 0, 10, 1))
екосистема.додати_організм(Мікроорганізм(10, 0, 1, 5))

# Імітація еволюції протягом 100 кроків
for i in range(100):
    екосистема.оновити()

# Виведення енергії живих організмів
for організм in екосистема.організми:
    print(організм.енергія)
    
